(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[365],{1708:(e,t,a)=>{Promise.resolve().then(a.bind(a,1841))},1841:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>u});var s=a(5155),r=a(2115),n=a(8637),i=a(5683),o=a(4565),l=a(3945),c=a(1346),d=a.n(c);function u(){let[e,t]=(0,r.useState)(!0),[a,c]=(0,r.useState)({email:"",password:"",confirmPassword:"",name:""}),[u,p]=(0,r.useState)(""),[m,h]=(0,r.useState)(!1),[f,x]=(0,r.useState)(""),_=async s=>{s.preventDefault(),p(""),x(""),h(!0);try{if(e)await (0,o.x9)(l.j,a.email,a.password),x("Вход выполнен успешно!");else{if(a.password!==a.confirmPassword)throw Error("Пароли не совпадают");await (0,o.eJ)(l.j,a.email,a.password),x("Регистрация успешно завершена! Теперь вы можете войти."),t(!0)}}catch(e){p(e.message)}finally{h(!1)}},g=e=>{let{name:t,value:a}=e.target;c(e=>({...e,[t]:a}))};return(0,s.jsx)("main",{className:d().main,children:(0,s.jsx)("div",{className:d().container,children:(0,s.jsxs)(n.P.div,{className:d().authCard,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[(0,s.jsxs)("div",{className:d().tabs,children:[(0,s.jsx)("button",{className:"".concat(d().tab," ").concat(e?d().active:""),onClick:()=>t(!0),children:"Вход"}),(0,s.jsx)("button",{className:"".concat(d().tab," ").concat(e?"":d().active),onClick:()=>t(!1),children:"Регистрация"})]}),(0,s.jsx)(i.N,{mode:"wait",children:(0,s.jsxs)(n.P.form,{className:d().form,initial:{opacity:0,x:e?-20:20},animate:{opacity:1,x:0},exit:{opacity:0,x:e?20:-20},transition:{duration:.3},onSubmit:_,children:[u&&(0,s.jsx)(n.P.div,{className:d().error,initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:u}),f&&(0,s.jsx)(n.P.div,{className:d().success,initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:f}),!e&&(0,s.jsxs)("div",{className:d().formGroup,children:[(0,s.jsx)("label",{htmlFor:"name",children:"Имя"}),(0,s.jsx)("input",{type:"text",id:"name",name:"name",value:a.name,onChange:g,placeholder:"Введите ваше имя",required:!0})]}),(0,s.jsxs)("div",{className:d().formGroup,children:[(0,s.jsx)("label",{htmlFor:"email",children:"Email"}),(0,s.jsx)("input",{type:"email",id:"email",name:"email",value:a.email,onChange:g,placeholder:"Введите ваш email",required:!0})]}),(0,s.jsxs)("div",{className:d().formGroup,children:[(0,s.jsx)("label",{htmlFor:"password",children:"Пароль"}),(0,s.jsx)("input",{type:"password",id:"password",name:"password",value:a.password,onChange:g,placeholder:"Введите пароль",required:!0})]}),!e&&(0,s.jsxs)("div",{className:d().formGroup,children:[(0,s.jsx)("label",{htmlFor:"confirmPassword",children:"Подтвердите пароль"}),(0,s.jsx)("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:a.confirmPassword,onChange:g,placeholder:"Подтвердите пароль",required:!0})]}),(0,s.jsx)(n.P.button,{type:"submit",className:d().submitButton,whileHover:{scale:1.02},whileTap:{scale:.98},disabled:m,children:m?"Загрузка...":e?"Войти":"Зарегистрироваться"})]},e?"login":"register")})]})})})}},3945:(e,t,a)=>{"use strict";a.d(t,{j:()=>c});var s=a(9904),r=a(7058),n=a(4565),i=a(6553);let o={apiKey:"AIzaSyA9pgixawEIlpFKDYJh1G7DDgmmaVW0-68",authDomain:"kapital-bank-dced8.firebaseapp.com",projectId:"kapital-bank-dced8",storageBucket:"kapital-bank-dced8.firebasestorage.app",messagingSenderId:"800838635551",appId:"1:800838635551:web:47172ebc7fec795d02852a"};o.apiKey||console.error("Firebase API Key не найден. Пожалуйста, проверьте конфигурацию Firebase");let l=(0,s.Wp)(o);(0,r.aU)(l);let c=(0,n.xI)(l);(0,i.P5)(l)},1346:e=>{e.exports={main:"page_main__Q_CuM",container:"page_container__VR9j1",authCard:"page_authCard__r_oDa",tabs:"page_tabs__asI_r",tab:"page_tab__Amokm",active:"page_active__R_bX8",form:"page_form__XvCU1",formGroup:"page_formGroup__RW2UN",submitButton:"page_submitButton__xZz2a",error:"page_error__haG9W",success:"page_success__RQWDF"}},5683:(e,t,a)=>{"use strict";a.d(t,{N:()=>g});var s=a(5155),r=a(2115),n=a(4710),i=a(9234),o=a(5403),l=a(9656),c=a(2804),d=a(7249);class u extends r.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=t.offsetParent,a=(0,c.s)(e)&&e.offsetWidth||0,s=this.props.sizeRef.current;s.height=t.offsetHeight||0,s.width=t.offsetWidth||0,s.top=t.offsetTop,s.left=t.offsetLeft,s.right=a-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function p(e){let{children:t,isPresent:a,anchorX:n}=e,i=(0,r.useId)(),o=(0,r.useRef)(null),l=(0,r.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=(0,r.useContext)(d.Q);return(0,r.useInsertionEffect)(()=>{let{width:e,height:t,top:s,left:r,right:d}=l.current;if(a||!o.current||!e||!t)return;o.current.dataset.motionPopId=i;let u=document.createElement("style");return c&&(u.nonce=c),document.head.appendChild(u),u.sheet&&u.sheet.insertRule('\n          [data-motion-pop-id="'.concat(i,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            ").concat("left"===n?"left: ".concat(r):"right: ".concat(d),"px !important;\n            top: ").concat(s,"px !important;\n          }\n        ")),()=>{document.head.contains(u)&&document.head.removeChild(u)}},[a]),(0,s.jsx)(u,{isPresent:a,childRef:o,sizeRef:l,children:r.cloneElement(t,{ref:o})})}let m=e=>{let{children:t,initial:a,isPresent:n,onExitComplete:o,custom:c,presenceAffectsLayout:d,mode:u,anchorX:m}=e,f=(0,i.M)(h),x=(0,r.useId)(),_=!0,g=(0,r.useMemo)(()=>(_=!1,{id:x,initial:a,isPresent:n,custom:c,onExitComplete:e=>{for(let t of(f.set(e,!0),f.values()))if(!t)return;o&&o()},register:e=>(f.set(e,!1),()=>f.delete(e))}),[n,f,o]);return d&&_&&(g={...g}),(0,r.useMemo)(()=>{f.forEach((e,t)=>f.set(t,!1))},[n]),r.useEffect(()=>{n||f.size||!o||o()},[n]),"popLayout"===u&&(t=(0,s.jsx)(p,{isPresent:n,anchorX:m,children:t})),(0,s.jsx)(l.t.Provider,{value:g,children:t})};function h(){return new Map}var f=a(5087);let x=e=>e.key||"";function _(e){let t=[];return r.Children.forEach(e,e=>{(0,r.isValidElement)(e)&&t.push(e)}),t}let g=e=>{let{children:t,custom:a,initial:l=!0,onExitComplete:c,presenceAffectsLayout:d=!0,mode:u="sync",propagate:p=!1,anchorX:h="left"}=e,[g,b]=(0,f.xQ)(p),j=(0,r.useMemo)(()=>_(t),[t]),w=p&&!g?[]:j.map(x),v=(0,r.useRef)(!0),y=(0,r.useRef)(j),P=(0,i.M)(()=>new Map),[C,N]=(0,r.useState)(j),[E,k]=(0,r.useState)(j);(0,o.E)(()=>{v.current=!1,y.current=j;for(let e=0;e<E.length;e++){let t=x(E[e]);w.includes(t)?P.delete(t):!0!==P.get(t)&&P.set(t,!1)}},[E,w.length,w.join("-")]);let R=[];if(j!==C){let e=[...j];for(let t=0;t<E.length;t++){let a=E[t],s=x(a);w.includes(s)||(e.splice(t,0,a),R.push(a))}return"wait"===u&&R.length&&(e=R),k(_(e)),N(j),null}let{forceRender:I}=(0,r.useContext)(n.L);return(0,s.jsx)(s.Fragment,{children:E.map(e=>{let t=x(e),r=(!p||!!g)&&(j===E||w.includes(t));return(0,s.jsx)(m,{isPresent:r,initial:(!v.current||!!l)&&void 0,custom:a,presenceAffectsLayout:d,mode:u,onExitComplete:r?void 0:()=>{if(!P.has(t))return;P.set(t,!0);let e=!0;P.forEach(t=>{t||(e=!1)}),e&&(null==I||I(),k(y.current),p&&(null==b||b()),c&&c())},anchorX:h,children:e},t)})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[581,992,965,637,675,441,517,358],()=>t(1708)),_N_E=e.O()}]);