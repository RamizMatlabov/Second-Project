(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[454],{9358:(e,a,s)=>{Promise.resolve().then(s.bind(s,1461))},1461:(e,a,s)=>{"use strict";s.d(a,{default:()=>u});var r=s(5155),t=s(2115),n=s(4565),i=s(3945),o=s(7602),l=s.n(o),d=s(6046);function u(){let e=(0,d.useRouter)(),[a,s]=(0,t.useState)(!0),[o,u]=(0,t.useState)({name:"",email:"",password:"",confirmPassword:""}),[c,p]=(0,t.useState)(""),[m,h]=(0,t.useState)(""),[b,w]=(0,t.useState)(!1),_=e=>{let{name:a,value:s}=e.target;u(e=>({...e,[a]:s}))},f=()=>o.password.length<6?(p("Пароль должен содержать минимум 6 символов"),!1):a||o.password===o.confirmPassword?!!a||!(o.name.length<2)||(p("Имя должно содержать минимум 2 символа"),!1):(p("Пароли не совпадают"),!1),x=async s=>{if(s.preventDefault(),p(""),h(""),w(!0),!f()){w(!1);return}try{if(a)await (0,n.x9)(i.j,o.email,o.password),h("Вход выполнен успешно!");else{let e=await (0,n.eJ)(i.j,o.email,o.password);await (0,n.r7)(e.user,{displayName:o.name}),h("Регистрация успешно завершена!")}u({name:"",email:"",password:"",confirmPassword:""}),setTimeout(()=>{e.push("/")},2e3)}catch(e){console.error("Ошибка:",e),p(a?"Ошибка входа: ":"Ошибка регистрации: "+(e.message||"Неизвестная ошибка"))}finally{w(!1)}};return(0,r.jsxs)("div",{className:l().container,children:[(0,r.jsx)("h2",{children:a?"Вход":"Регистрация"}),(0,r.jsxs)("form",{onSubmit:x,className:l().form,children:[!a&&(0,r.jsxs)("div",{className:l().inputGroup,children:[(0,r.jsx)("label",{htmlFor:"name",children:"Имя:"}),(0,r.jsx)("input",{type:"text",id:"name",name:"name",value:o.name,onChange:_,required:!0,placeholder:"Введите ваше имя",disabled:b})]}),(0,r.jsxs)("div",{className:l().inputGroup,children:[(0,r.jsx)("label",{htmlFor:"email",children:"Email:"}),(0,r.jsx)("input",{type:"email",id:"email",name:"email",value:o.email,onChange:_,required:!0,placeholder:"Введите ваш email",disabled:b})]}),(0,r.jsxs)("div",{className:l().inputGroup,children:[(0,r.jsx)("label",{htmlFor:"password",children:"Пароль:"}),(0,r.jsx)("input",{type:"password",id:"password",name:"password",value:o.password,onChange:_,required:!0,placeholder:"Введите пароль",disabled:b})]}),!a&&(0,r.jsxs)("div",{className:l().inputGroup,children:[(0,r.jsx)("label",{htmlFor:"confirmPassword",children:"Подтвердите пароль:"}),(0,r.jsx)("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:o.confirmPassword,onChange:_,required:!0,placeholder:"Повторите пароль",disabled:b})]}),c&&(0,r.jsx)("p",{className:l().error,children:c}),m&&(0,r.jsx)("p",{className:l().success,children:m}),(0,r.jsx)("button",{type:"submit",className:l().button,disabled:b,children:b?a?"Вход...":"Регистрация...":a?"Войти":"Зарегистрироваться"}),(0,r.jsx)("button",{type:"button",onClick:()=>{s(!a),p(""),h(""),u({name:"",email:"",password:"",confirmPassword:""})},className:l().toggleButton,disabled:b,children:a?"Нет аккаунта? Зарегистрируйтесь":"Уже есть аккаунт? Войдите"})]})]})}},3945:(e,a,s)=>{"use strict";s.d(a,{j:()=>d});var r=s(9904),t=s(7058),n=s(4565),i=s(6553);let o={apiKey:"AIzaSyA9pgixawEIlpFKDYJh1G7DDgmmaVW0-68",authDomain:"kapital-bank-dced8.firebaseapp.com",projectId:"kapital-bank-dced8",storageBucket:"kapital-bank-dced8.firebasestorage.app",messagingSenderId:"800838635551",appId:"1:800838635551:web:47172ebc7fec795d02852a"};o.apiKey||console.error("Firebase API Key не найден. Пожалуйста, проверьте конфигурацию Firebase");let l=(0,r.Wp)(o);(0,t.aU)(l);let d=(0,n.xI)(l);(0,i.P5)(l)},6046:(e,a,s)=>{"use strict";var r=s(6658);s.o(r,"usePathname")&&s.d(a,{usePathname:function(){return r.usePathname}}),s.o(r,"useRouter")&&s.d(a,{useRouter:function(){return r.useRouter}})},7602:e=>{e.exports={container:"Auth_container__gY1AK",form:"Auth_form__Zpagp",inputGroup:"Auth_inputGroup__3Nxc2",button:"Auth_button__pXkza",toggleButton:"Auth_toggleButton__h0rJf",error:"Auth_error__a_zET",success:"Auth_success__sIi24"}}},e=>{var a=a=>e(e.s=a);e.O(0,[185,992,965,675,441,517,358],()=>a(9358)),_N_E=e.O()}]);